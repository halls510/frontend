<h2>Gerenciamento de Vendas</h2>

<table>
  <thead>
    <tr>
      <th>Venda</th>
      <th>Cliente</th>
      <th>Data</th>
      <th>Total</th>
      <th>Status</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let sale of sales">
      <td>{{ sale.saleNumber }}</td>
      <td>{{ sale.customerName }}</td>
      <td>{{ sale.saleDate | date }}</td>
      <td>{{ sale.totalValue.amount | currency:'BRL' }}</td>
      <td>{{ sale.status }}</td>
      <td>
        <!-- 🔍 Mostra o drawer com os dados da venda -->
        <button (click)="viewDetails(sale)">🔍</button>

        <!-- ❌ Cancela a venda -->
        <button 
          (click)="cancelSale(sale.saleId)" 
          [disabled]="sale.status === 'Cancelled'">
          ❌
        </button>
      </td>
    </tr>
  </tbody>
</table>

<!-- Drawer Lateral de Detalhes -->
<app-sale-details-drawer
  [sale]="selectedSale"
  [visible]="drawerVisible"
  [onClose]="closeDrawer.bind(this)">
</app-sale-details-drawer>
