<!-- Overlay (escurece o fundo) -->
<div class="overlay" *ngIf="visible" (click)="onClose()"></div>

<!-- Drawer lateral -->
<div class="drawer" [class.visible]="visible">
  <div class="drawer-header">
    <h3>Detalhes da Venda #{{ sale.saleNumber }}</h3>
    <button (click)="onClose()">✖️</button>
  </div>

  <div class="drawer-content" *ngIf="sale">
    <p><strong>Cliente:</strong> {{ sale.customerName }} (ID: {{ sale.customerId }})</p>
    <p><strong>Data:</strong> {{ sale.saleDate | date:'short' }}</p>
    <p><strong>Filial:</strong> {{ sale.branch }}</p>
    <p><strong>Status:</strong> {{ sale.status }}</p>
    <p><strong>Total:</strong> {{ sale.totalValue.amount | currency:'BRL' }}</p>

    <h4>Itens</h4>
    <table>
      <thead>
        <tr>
          <th>Produto</th>
          <th>Qtd</th>
          <th>Unitário</th>
          <th>Desconto</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of sale.items">
          <td>{{ item.productName }}</td>
          <td>{{ item.quantity }}</td>
          <td>{{ item.unitPrice.amount | currency:'BRL' }}</td>
          <td>{{ item.discount.amount | currency:'BRL' }}</td>
          <td>{{ item.total.amount | currency:'BRL' }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
